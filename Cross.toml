[build.env]
passthrough = [
    "RUST_BACKTRACE",
    "RUST_LOG",
]

[target.aarch64-unknown-linux-gnu]
# Use pre-built cross image with C++ toolchain
image = "ghcr.io/cross-rs/aarch64-unknown-linux-gnu:main"

# Install dependencies needed for the Rust build
# Note: OpenFHE must be pre-built for ARM64 before running cross (see release workflow)
pre-build = [
    "apt-get update && apt-get install -y libomp-dev libssl-dev libclang-dev"
]

[target.aarch64-unknown-linux-gnu.env]
passthrough = [
    "CARGO_MANIFEST_DIR",
]
